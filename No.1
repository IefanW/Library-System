#include <stdio.h>
#include <stdlib.h>
#include <string.h>

void welcome();
void error(char *);          
char stage();                  
int usrstudent();             
int usrmanager();  

void welcome(){
    printf("*************************Welcome using library information system*************************\n");
    while(1){
        printf("-------------------------------------\n");
        printf("Command what do you what to do:\n");
        printf("\n[1] Staff entrance\n\n[2] Student entrance\n\n[0] Exit\n\n");
        switch(land()){
            case '1':
                while(1){
                    if(usrmanager()){
                        continue;
                    }else{
                        break;
                    }
                 }
                break;
            case '2':
                while(1){
                    if(usrstudent()){
                        continue;
                    }else{
                        break;
                    }
                }
                break;
            case '0':
                exit(0);
            default:
                error("Invalid selection");
        }
    }
}

void error(char *s){
    fprintf(stderr, "%s\n", s);
}

char land(){
    char c, flag;
    int i;
    while(1){
        for(i = 0; (c = getchar()) != '\n'; flag = c, ++i);
        if(i == 1){
            if(flag == '1' || flag == '2' || flag == '0'){
                return flag;
            }
        }else if(i == 0){
            continue;
        }
        error("[Input the commandï¼š 1 / 2 / 0 Select your identity]");
    }
    return '\0';
}

int main(){
    
    welcome();
    return 0;
}
